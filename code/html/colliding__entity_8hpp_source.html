<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TBD: colliding_entity.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TBD
   </div>
   <div id="projectbrief">TBD</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">colliding_entity.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;SFML/Graphics.hpp&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;collision_box.hpp&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;game_entity.hpp&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;utils.hpp&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">class </span><a class="code" href="class_game_manager.html">GameManager</a>;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="class_colliding_entity.html">   20</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_colliding_entity.html">CollidingEntity</a> : <span class="keyword">public</span> <a class="code" href="class_game_entity.html">GameEntity</a> {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a259f5b1f26a10c94e6dad9cd891b803e">   26</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#a259f5b1f26a10c94e6dad9cd891b803e">updateCollisionBox</a>() {<a class="code" href="class_colliding_entity.html#a374b018899b679791c3154d29457a9c5">setCollisionBox</a>(<a class="code" href="class_collision_box.html">CollisionBox</a>(<a class="code" href="class_game_entity.html#a943f5b9f20bd540c273f2570c4d238c6">getTotalPosition</a>(), <a class="code" href="class_game_entity.html#a567bab0fe1e2c3dd98fa031d2e5df14e">getSize</a>()));}</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    </div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    </div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">   33</a></span>&#160;    <a class="code" href="class_collision_box.html">CollisionBox</a> <a class="code" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">collisionBox</a>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a8ef11c275e4441743e0b6ce54784647f">   43</a></span>&#160;    <a class="code" href="class_colliding_entity.html#a8ef11c275e4441743e0b6ce54784647f">CollidingEntity</a>(<a class="code" href="class_game_manager.html">GameManager</a>* _manager, <a class="code" href="class_game_entity.html">GameEntity</a> *parent = <span class="keyword">nullptr</span>, <span class="keywordtype">int</span> u = 0, <span class="keywordtype">int</span> d = -1) : <a class="code" href="class_game_entity.html">GameEntity</a>(_manager, parent, u, d) {}</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    </div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    </div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    </div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a374b018899b679791c3154d29457a9c5">   53</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#a374b018899b679791c3154d29457a9c5">setCollisionBox</a>(<a class="code" href="class_collision_box.html">CollisionBox</a> cbox) {<a class="code" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">collisionBox</a> = cbox;}</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    </div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#ac47d631afb3401467c99b87ee42d895a">   60</a></span>&#160;    <a class="code" href="class_collision_box.html">CollisionBox</a> <a class="code" href="class_colliding_entity.html#ac47d631afb3401467c99b87ee42d895a">getCollisionBox</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">collisionBox</a>;}</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    </div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#abb29e39718af974740d80e4a03251c8d">   69</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_colliding_entity.html#abb29e39718af974740d80e4a03251c8d">collidesWith</a>(<span class="keyword">const</span> <a class="code" href="class_colliding_entity.html">CollidingEntity</a> &amp;other)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">collisionBox</a>.<a class="code" href="class_collision_box.html#ae5212d62ab28db3e42b17407d2ba98c0">checkIntersection</a>(other.<a class="code" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">collisionBox</a>);}</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    </div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a36300f55f5bc4dfcb949929449b1151b">   78</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_colliding_entity.html#a36300f55f5bc4dfcb949929449b1151b">collidesWith</a>(<span class="keyword">const</span> <a class="code" href="class_collision_box.html">CollisionBox</a> &amp;cbox)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">collisionBox</a>.<a class="code" href="class_collision_box.html#ae5212d62ab28db3e42b17407d2ba98c0">checkIntersection</a>(cbox);}</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    </div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a9fe117b77d6df746538d25ca501ea47a">   85</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#a9fe117b77d6df746538d25ca501ea47a">setPosition</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> pos) {<a class="code" href="class_game_entity.html#ac3187e535e46571a54e1256958ee4a80">GameEntity::setPosition</a>(pos); <a class="code" href="class_colliding_entity.html#a259f5b1f26a10c94e6dad9cd891b803e">updateCollisionBox</a>();}</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    </div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a19c8004842f6252300a4e74add66e4e6">   93</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#a19c8004842f6252300a4e74add66e4e6">setPosition</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y) {<a class="code" href="class_colliding_entity.html#a19c8004842f6252300a4e74add66e4e6">setPosition</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(x, y));}</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    </div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#afb754ae08b727d2e776e7547ac4e9b3a">  100</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#afb754ae08b727d2e776e7547ac4e9b3a">setSize</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> sz) {<a class="code" href="class_game_entity.html#a9427be562b5a8e7a41d5f4a9b7075293">GameEntity::setSize</a>(sz); <a class="code" href="class_colliding_entity.html#a259f5b1f26a10c94e6dad9cd891b803e">updateCollisionBox</a>();}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    </div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#aec793f5e99ac4d22c8e221fb0d13b3db">  108</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#aec793f5e99ac4d22c8e221fb0d13b3db">setSize</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y) {<a class="code" href="class_colliding_entity.html#aec793f5e99ac4d22c8e221fb0d13b3db">setSize</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(x, y));}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    </div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a61a9dd0ab794db0bd545291cef4c1b40">  117</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#a61a9dd0ab794db0bd545291cef4c1b40">processBasicPhysics</a>(<span class="keyword">const</span> std::vector&lt;CollisionBox&gt; &amp;cboxes) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="comment">// Dirty friction, fix later</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="class_game_entity.html#a885228ed385f80fe243f3d9d337d52a0">setVelocity</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(<a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().x * 0.95f, <a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().y + <a class="code" href="class_game_entity.html#a7ff123dbc81d2b0207543ad70a6166f7">getGravity</a>()));</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        </div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment">// Everything here is local coordinates, but collisionboxes are always updated according to global coordinates</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> potentialPosition = <a class="code" href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">getPosition</a>() + <a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>() + <a class="code" href="class_game_entity.html#a474c248a7ad9e9dadb6bd39e996aa4f9">getExternalImpact</a>();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="class_game_entity.html#af93afa90123d253bdf8b13ebe6c6ad95">resetExternalImpact</a>();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        </div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// Doing this in 2 parts is needed so that ground is not sticky</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    </div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="comment">// Part 1: Move horizontally as much as you can (binary search)</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordtype">bool</span> fullHorizontalMove = <a class="code" href="class_colliding_entity.html#ac0d229da4e16008922ad0c018002e747">moveMaximally</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(potentialPosition.<a class="code" href="classsf_1_1_vector2.html#a1e6ad77fa155f3753bfb92699bd28141">x</a>, <a class="code" href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">getPosition</a>().y), cboxes);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// Part 2: Try moving vertically (with posiibly modified potentialPosition)</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordtype">bool</span> fullVerticalMove = <a class="code" href="class_colliding_entity.html#ac0d229da4e16008922ad0c018002e747">moveMaximally</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(<a class="code" href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">getPosition</a>().x, potentialPosition.<a class="code" href="classsf_1_1_vector2.html#a420f2481b015f4eb929c75f2af564299">y</a>), cboxes);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (!fullVerticalMove) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <a class="code" href="class_game_entity.html#a885228ed385f80fe243f3d9d337d52a0">setVelocity</a>(<a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().x, 0.0f);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    </div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="comment">// Update collisionBox (in case)</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <a class="code" href="class_colliding_entity.html#a374b018899b679791c3154d29457a9c5">setCollisionBox</a>(<a class="code" href="class_collision_box.html">CollisionBox</a>(<a class="code" href="class_game_entity.html#a943f5b9f20bd540c273f2570c4d238c6">getTotalPosition</a>(), <a class="code" href="class_game_entity.html#a567bab0fe1e2c3dd98fa031d2e5df14e">getSize</a>()));</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    </div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    </div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a72f52aeb8e29433962cce9579292ab2b">  148</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#a72f52aeb8e29433962cce9579292ab2b">processBouncyPhysics</a>(<span class="keyword">const</span> std::vector&lt;CollisionBox&gt; &amp;cboxes) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">// Similar to processBasicPhysics</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="class_game_entity.html#a885228ed385f80fe243f3d9d337d52a0">setVelocity</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(<a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().x * 0.95f, <a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().y + <a class="code" href="class_game_entity.html#a7ff123dbc81d2b0207543ad70a6166f7">getGravity</a>()));</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> potentialPosition = <a class="code" href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">getPosition</a>() + <a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>() + <a class="code" href="class_game_entity.html#a474c248a7ad9e9dadb6bd39e996aa4f9">getExternalImpact</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="class_game_entity.html#af93afa90123d253bdf8b13ebe6c6ad95">resetExternalImpact</a>();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordtype">bool</span> fullHorizontalMove = <a class="code" href="class_colliding_entity.html#ac0d229da4e16008922ad0c018002e747">moveMaximally</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(potentialPosition.<a class="code" href="classsf_1_1_vector2.html#a1e6ad77fa155f3753bfb92699bd28141">x</a>, <a class="code" href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">getPosition</a>().y), cboxes);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">if</span> (!fullHorizontalMove) <a class="code" href="class_game_entity.html#a885228ed385f80fe243f3d9d337d52a0">setVelocity</a>( -0.9f * <a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().x , <a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().y);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        </div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordtype">bool</span> fullVerticalMove = <a class="code" href="class_colliding_entity.html#ac0d229da4e16008922ad0c018002e747">moveMaximally</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a>(<a class="code" href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">getPosition</a>().x, potentialPosition.<a class="code" href="classsf_1_1_vector2.html#a420f2481b015f4eb929c75f2af564299">y</a>), cboxes);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> (!fullVerticalMove) <a class="code" href="class_game_entity.html#a885228ed385f80fe243f3d9d337d52a0">setVelocity</a>(<a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().x, -0.6f * <a class="code" href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">getVelocity</a>().y);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        </div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="class_colliding_entity.html#a374b018899b679791c3154d29457a9c5">setCollisionBox</a>(<a class="code" href="class_collision_box.html">CollisionBox</a>(<a class="code" href="class_game_entity.html#a943f5b9f20bd540c273f2570c4d238c6">getTotalPosition</a>(), <a class="code" href="class_game_entity.html#a567bab0fe1e2c3dd98fa031d2e5df14e">getSize</a>()));</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    </div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a15c9c43a0ffa68a7c1ed94bb0230e150">  168</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_colliding_entity.html#a15c9c43a0ffa68a7c1ed94bb0230e150">destabilize</a>(<span class="keywordtype">float</span> magnitude) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="class_game_entity.html#a885228ed385f80fe243f3d9d337d52a0">setVelocity</a>(utils::normalizedRandomv2() * magnitude);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    </div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#ac0d229da4e16008922ad0c018002e747">  180</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_colliding_entity.html#ac0d229da4e16008922ad0c018002e747">moveMaximally</a>(<a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> dest, <span class="keyword">const</span> std::vector&lt;CollisionBox&gt; &amp;cboxes) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordtype">bool</span> noObstruction = <span class="keyword">true</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> begin = <a class="code" href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">getPosition</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> end = dest;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">while</span> ((end-begin).x * (end-begin).x + (end-begin).y * (end-begin).y &gt; 1.0f) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <a class="code" href="classsf_1_1_vector2.html">sf::Vector2f</a> mid = (begin + end) / 2.0f;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="comment">//cerr &lt;&lt; &quot;begin: &quot; &lt;&lt; begin.x &lt;&lt; &quot; &quot; &lt;&lt; begin.y &lt;&lt; endl;</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="comment">//cerr &lt;&lt; &quot;end: &quot; &lt;&lt; end.x &lt;&lt; &quot; &quot; &lt;&lt; end.y &lt;&lt; endl;</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="comment">//cerr &lt;&lt; &quot;mid: &quot; &lt;&lt; mid.x &lt;&lt; &quot; &quot; &lt;&lt; mid.y &lt;&lt; endl;</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <a class="code" href="class_colliding_entity.html#a9fe117b77d6df746538d25ca501ea47a">setPosition</a>(mid);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <a class="code" href="class_colliding_entity.html#a374b018899b679791c3154d29457a9c5">setCollisionBox</a>(<a class="code" href="class_collision_box.html">CollisionBox</a>(<a class="code" href="class_game_entity.html#a943f5b9f20bd540c273f2570c4d238c6">getTotalPosition</a>(), <a class="code" href="class_game_entity.html#a567bab0fe1e2c3dd98fa031d2e5df14e">getSize</a>()));</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordtype">bool</span> obstruction = <a class="code" href="class_colliding_entity.html#a62cd7977ea32bbc4665fcc498c1ade2e">checkObstruction</a>(cboxes);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">if</span> (obstruction) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                noObstruction = <span class="keyword">false</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                end = mid;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                begin = mid;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="class_colliding_entity.html#a9fe117b77d6df746538d25ca501ea47a">setPosition</a>(begin);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> noObstruction;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    </div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="class_colliding_entity.html#a62cd7977ea32bbc4665fcc498c1ade2e">  210</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_colliding_entity.html#a62cd7977ea32bbc4665fcc498c1ade2e">checkObstruction</a>(<span class="keyword">const</span> std::vector&lt;CollisionBox&gt; &amp;cboxes)<span class="keyword"> const </span>{</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordtype">bool</span> ret = <span class="keyword">false</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="class_collision_box.html">CollisionBox</a> &amp;cbox : cboxes) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">if</span> (cbox.checkIntersection(<a class="code" href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">collisionBox</a>)) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                ret = <span class="keyword">true</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    </div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;};</div><div class="ttc" id="class_colliding_entity_html_a9fe117b77d6df746538d25ca501ea47a"><div class="ttname"><a href="class_colliding_entity.html#a9fe117b77d6df746538d25ca501ea47a">CollidingEntity::setPosition</a></div><div class="ttdeci">virtual void setPosition(sf::Vector2f pos)</div><div class="ttdoc">Sets the position of this Entity relative to its parent.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:85</div></div>
<div class="ttc" id="class_colliding_entity_html_a19c8004842f6252300a4e74add66e4e6"><div class="ttname"><a href="class_colliding_entity.html#a19c8004842f6252300a4e74add66e4e6">CollidingEntity::setPosition</a></div><div class="ttdeci">virtual void setPosition(float x, float y)</div><div class="ttdoc">Sets the position of this Entity relative to its parent.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:93</div></div>
<div class="ttc" id="class_game_entity_html_a7ff123dbc81d2b0207543ad70a6166f7"><div class="ttname"><a href="class_game_entity.html#a7ff123dbc81d2b0207543ad70a6166f7">GameEntity::getGravity</a></div><div class="ttdeci">virtual float getGravity() const</div><div class="ttdoc">Gets the gravity for this Entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:456</div></div>
<div class="ttc" id="class_colliding_entity_html_aec793f5e99ac4d22c8e221fb0d13b3db"><div class="ttname"><a href="class_colliding_entity.html#aec793f5e99ac4d22c8e221fb0d13b3db">CollidingEntity::setSize</a></div><div class="ttdeci">virtual void setSize(float x, float y)</div><div class="ttdoc">Sets the size of this Entity.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:108</div></div>
<div class="ttc" id="class_game_entity_html_af93afa90123d253bdf8b13ebe6c6ad95"><div class="ttname"><a href="class_game_entity.html#af93afa90123d253bdf8b13ebe6c6ad95">GameEntity::resetExternalImpact</a></div><div class="ttdeci">void resetExternalImpact()</div><div class="ttdoc">Reset the external impact.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:262</div></div>
<div class="ttc" id="class_game_entity_html_a474c248a7ad9e9dadb6bd39e996aa4f9"><div class="ttname"><a href="class_game_entity.html#a474c248a7ad9e9dadb6bd39e996aa4f9">GameEntity::getExternalImpact</a></div><div class="ttdeci">sf::Vector2f getExternalImpact() const</div><div class="ttdoc">Gets the external impact.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:242</div></div>
<div class="ttc" id="class_game_entity_html_afe5c1a38c4546dfda67458f852e89d92"><div class="ttname"><a href="class_game_entity.html#afe5c1a38c4546dfda67458f852e89d92">GameEntity::getVelocity</a></div><div class="ttdeci">sf::Vector2f getVelocity() const</div><div class="ttdoc">Gets the velocity of this entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:207</div></div>
<div class="ttc" id="class_colliding_entity_html_afb754ae08b727d2e776e7547ac4e9b3a"><div class="ttname"><a href="class_colliding_entity.html#afb754ae08b727d2e776e7547ac4e9b3a">CollidingEntity::setSize</a></div><div class="ttdeci">virtual void setSize(sf::Vector2f sz)</div><div class="ttdoc">Sets the Size of this Entity.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:100</div></div>
<div class="ttc" id="class_game_entity_html_ac3187e535e46571a54e1256958ee4a80"><div class="ttname"><a href="class_game_entity.html#ac3187e535e46571a54e1256958ee4a80">GameEntity::setPosition</a></div><div class="ttdeci">virtual void setPosition(sf::Vector2f pos)</div><div class="ttdoc">Sets the relative position of this Entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:157</div></div>
<div class="ttc" id="classsf_1_1_vector2_html_a1e6ad77fa155f3753bfb92699bd28141"><div class="ttname"><a href="classsf_1_1_vector2.html#a1e6ad77fa155f3753bfb92699bd28141">sf::Vector2::x</a></div><div class="ttdeci">T x</div><div class="ttdoc">X coordinate of the vector.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:75</div></div>
<div class="ttc" id="class_colliding_entity_html_a62cd7977ea32bbc4665fcc498c1ade2e"><div class="ttname"><a href="class_colliding_entity.html#a62cd7977ea32bbc4665fcc498c1ade2e">CollidingEntity::checkObstruction</a></div><div class="ttdeci">bool checkObstruction(const std::vector&lt; CollisionBox &gt; &amp;cboxes) const</div><div class="ttdoc">Does collision checking against given collision boxes.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:210</div></div>
<div class="ttc" id="classsf_1_1_vector2_html_a420f2481b015f4eb929c75f2af564299"><div class="ttname"><a href="classsf_1_1_vector2.html#a420f2481b015f4eb929c75f2af564299">sf::Vector2::y</a></div><div class="ttdeci">T y</div><div class="ttdoc">Y coordinate of the vector.</div><div class="ttdef"><b>Definition:</b> Vector2.hpp:76</div></div>
<div class="ttc" id="class_game_entity_html_a943f5b9f20bd540c273f2570c4d238c6"><div class="ttname"><a href="class_game_entity.html#a943f5b9f20bd540c273f2570c4d238c6">GameEntity::getTotalPosition</a></div><div class="ttdeci">sf::Vector2f getTotalPosition() const</div><div class="ttdoc">Gets the global position of this Entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:172</div></div>
<div class="ttc" id="class_colliding_entity_html"><div class="ttname"><a href="class_colliding_entity.html">CollidingEntity</a></div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:20</div></div>
<div class="ttc" id="class_colliding_entity_html_a259f5b1f26a10c94e6dad9cd891b803e"><div class="ttname"><a href="class_colliding_entity.html#a259f5b1f26a10c94e6dad9cd891b803e">CollidingEntity::updateCollisionBox</a></div><div class="ttdeci">void updateCollisionBox()</div><div class="ttdoc">Automatically update the collisionBox field based on world position and size.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:26</div></div>
<div class="ttc" id="classsf_1_1_vector2_html"><div class="ttname"><a href="classsf_1_1_vector2.html">sf::Vector2&lt; float &gt;</a></div></div>
<div class="ttc" id="class_colliding_entity_html_ac0d229da4e16008922ad0c018002e747"><div class="ttname"><a href="class_colliding_entity.html#ac0d229da4e16008922ad0c018002e747">CollidingEntity::moveMaximally</a></div><div class="ttdeci">bool moveMaximally(sf::Vector2f dest, const std::vector&lt; CollisionBox &gt; &amp;cboxes)</div><div class="ttdoc">Moves in &quot;dest&quot; direction as much as possible.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:180</div></div>
<div class="ttc" id="class_game_entity_html_a567bab0fe1e2c3dd98fa031d2e5df14e"><div class="ttname"><a href="class_game_entity.html#a567bab0fe1e2c3dd98fa031d2e5df14e">GameEntity::getSize</a></div><div class="ttdeci">sf::Vector2f getSize() const</div><div class="ttdoc">Gets the size of this Entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:185</div></div>
<div class="ttc" id="class_colliding_entity_html_a72f52aeb8e29433962cce9579292ab2b"><div class="ttname"><a href="class_colliding_entity.html#a72f52aeb8e29433962cce9579292ab2b">CollidingEntity::processBouncyPhysics</a></div><div class="ttdeci">void processBouncyPhysics(const std::vector&lt; CollisionBox &gt; &amp;cboxes)</div><div class="ttdoc">Process Bouncy Physics for this Entity.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:148</div></div>
<div class="ttc" id="class_game_manager_html"><div class="ttname"><a href="class_game_manager.html">GameManager</a></div><div class="ttdoc">Class for the Global Game Manager that handles top level Game Logiv.</div><div class="ttdef"><b>Definition:</b> game_manager.hpp:17</div></div>
<div class="ttc" id="class_game_entity_html_a9427be562b5a8e7a41d5f4a9b7075293"><div class="ttname"><a href="class_game_entity.html#a9427be562b5a8e7a41d5f4a9b7075293">GameEntity::setSize</a></div><div class="ttdeci">virtual void setSize(sf::Vector2f sz)</div><div class="ttdoc">Sets the size of this Entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:192</div></div>
<div class="ttc" id="class_colliding_entity_html_a36300f55f5bc4dfcb949929449b1151b"><div class="ttname"><a href="class_colliding_entity.html#a36300f55f5bc4dfcb949929449b1151b">CollidingEntity::collidesWith</a></div><div class="ttdeci">bool collidesWith(const CollisionBox &amp;cbox) const</div><div class="ttdoc">Checks for collision with a Collision Box.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:78</div></div>
<div class="ttc" id="class_game_entity_html_a8456643412ae833a5ce9d1988fa66e72"><div class="ttname"><a href="class_game_entity.html#a8456643412ae833a5ce9d1988fa66e72">GameEntity::getPosition</a></div><div class="ttdeci">sf::Vector2f getPosition() const</div><div class="ttdoc">Gets the relative position of this Entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:150</div></div>
<div class="ttc" id="class_colliding_entity_html_a374b018899b679791c3154d29457a9c5"><div class="ttname"><a href="class_colliding_entity.html#a374b018899b679791c3154d29457a9c5">CollidingEntity::setCollisionBox</a></div><div class="ttdeci">void setCollisionBox(CollisionBox cbox)</div><div class="ttdoc">Sets the Collision Box.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:53</div></div>
<div class="ttc" id="class_game_entity_html_a885228ed385f80fe243f3d9d337d52a0"><div class="ttname"><a href="class_game_entity.html#a885228ed385f80fe243f3d9d337d52a0">GameEntity::setVelocity</a></div><div class="ttdeci">void setVelocity(sf::Vector2f vel)</div><div class="ttdoc">Sets the velocity of this entity.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:214</div></div>
<div class="ttc" id="class_colliding_entity_html_a61a9dd0ab794db0bd545291cef4c1b40"><div class="ttname"><a href="class_colliding_entity.html#a61a9dd0ab794db0bd545291cef4c1b40">CollidingEntity::processBasicPhysics</a></div><div class="ttdeci">void processBasicPhysics(const std::vector&lt; CollisionBox &gt; &amp;cboxes)</div><div class="ttdoc">Process Simple Physics for this Entity.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:117</div></div>
<div class="ttc" id="class_collision_box_html_ae5212d62ab28db3e42b17407d2ba98c0"><div class="ttname"><a href="class_collision_box.html#ae5212d62ab28db3e42b17407d2ba98c0">CollisionBox::checkIntersection</a></div><div class="ttdeci">bool checkIntersection(const CollisionBox &amp;other) const</div><div class="ttdoc">Checks if 2 Collision Boxes are intersecting each other.</div><div class="ttdef"><b>Definition:</b> collision_box.cpp:35</div></div>
<div class="ttc" id="class_colliding_entity_html_a15c9c43a0ffa68a7c1ed94bb0230e150"><div class="ttname"><a href="class_colliding_entity.html#a15c9c43a0ffa68a7c1ed94bb0230e150">CollidingEntity::destabilize</a></div><div class="ttdeci">void destabilize(float magnitude)</div><div class="ttdoc">Simulate instability, by assigning a velocity of given magnitude and random direction.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:168</div></div>
<div class="ttc" id="class_colliding_entity_html_a8ef11c275e4441743e0b6ce54784647f"><div class="ttname"><a href="class_colliding_entity.html#a8ef11c275e4441743e0b6ce54784647f">CollidingEntity::CollidingEntity</a></div><div class="ttdeci">CollidingEntity(GameManager *_manager, GameEntity *parent=nullptr, int u=0, int d=-1)</div><div class="ttdoc">Basic Construction-time logic for CollidingEntities.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:43</div></div>
<div class="ttc" id="class_colliding_entity_html_ac69bc4c38d52f6201967640f3895a08f"><div class="ttname"><a href="class_colliding_entity.html#ac69bc4c38d52f6201967640f3895a08f">CollidingEntity::collisionBox</a></div><div class="ttdeci">CollisionBox collisionBox</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:33</div></div>
<div class="ttc" id="class_collision_box_html"><div class="ttname"><a href="class_collision_box.html">CollisionBox</a></div><div class="ttdoc">Class for representing and calculating with Collision Boxes.</div><div class="ttdef"><b>Definition:</b> collision_box.hpp:10</div></div>
<div class="ttc" id="class_colliding_entity_html_ac47d631afb3401467c99b87ee42d895a"><div class="ttname"><a href="class_colliding_entity.html#ac47d631afb3401467c99b87ee42d895a">CollidingEntity::getCollisionBox</a></div><div class="ttdeci">CollisionBox getCollisionBox() const</div><div class="ttdoc">Gets the Collision Box.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:60</div></div>
<div class="ttc" id="class_game_entity_html"><div class="ttname"><a href="class_game_entity.html">GameEntity</a></div><div class="ttdoc">Base Class for All GameEntities.</div><div class="ttdef"><b>Definition:</b> game_entity.hpp:13</div></div>
<div class="ttc" id="class_colliding_entity_html_abb29e39718af974740d80e4a03251c8d"><div class="ttname"><a href="class_colliding_entity.html#abb29e39718af974740d80e4a03251c8d">CollidingEntity::collidesWith</a></div><div class="ttdeci">bool collidesWith(const CollidingEntity &amp;other) const</div><div class="ttdoc">Checks for collision with another CollidingEntity.</div><div class="ttdef"><b>Definition:</b> colliding_entity.hpp:69</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
